<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tatami_layered: tatami_layered Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">tatami_layered
   </div>
   <div id="projectbrief">Create layered sparse matrices for tatami</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">tatami_layered Namespace Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Create layered sparse matrices for <b>tatami</b>.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtatami__layered_1_1ConvertToLayeredSparseOptions.html">ConvertToLayeredSparseOptions</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Options for <code><a class="el" href="#ae6f881696ce1e2fa7b9e2aeb3e38678b">convert_to_layered_sparse()</a></code>.  <a href="structtatami__layered_1_1ConvertToLayeredSparseOptions.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtatami__layered_1_1ReadLayeredSparseFromMatrixMarketOptions.html">ReadLayeredSparseFromMatrixMarketOptions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae6f881696ce1e2fa7b9e2aeb3e38678b" id="r_ae6f881696ce1e2fa7b9e2aeb3e38678b"><td class="memTemplParams" colspan="2">template&lt;typename ValueOut_  = double, typename IndexOut_  = int, typename ColumnIndex_  = std::uint16_t, typename ValueIn_ , typename IndexIn_ &gt; </td></tr>
<tr class="memitem:ae6f881696ce1e2fa7b9e2aeb3e38678b"><td class="memTemplItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a>&lt; ValueOut_, IndexOut_ &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#ae6f881696ce1e2fa7b9e2aeb3e38678b">convert_to_layered_sparse</a> (const <a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a>&lt; ValueIn_, IndexIn_ &gt; &amp;mat, const <a class="el" href="structtatami__layered_1_1ConvertToLayeredSparseOptions.html">ConvertToLayeredSparseOptions</a> &amp;options)</td></tr>
<tr class="separator:ae6f881696ce1e2fa7b9e2aeb3e38678b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99e2feeee42e4ab42b8f7db3e0144419" id="r_a99e2feeee42e4ab42b8f7db3e0144419"><td class="memTemplParams" colspan="2">template&lt;typename Value_  = double, typename Index_  = int, typename ColumnIndex_  = std::uint16_t&gt; </td></tr>
<tr class="memitem:a99e2feeee42e4ab42b8f7db3e0144419"><td class="memTemplItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a>&lt; Value_, Index_ &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a99e2feeee42e4ab42b8f7db3e0144419">read_layered_sparse_from_matrix_market_text_file</a> (const char *filepath, const <a class="el" href="structtatami__layered_1_1ReadLayeredSparseFromMatrixMarketOptions.html">ReadLayeredSparseFromMatrixMarketOptions</a> &amp;options)</td></tr>
<tr class="separator:a99e2feeee42e4ab42b8f7db3e0144419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cd8b6c524c08a2672f01fa188086509" id="r_a1cd8b6c524c08a2672f01fa188086509"><td class="memTemplParams" colspan="2">template&lt;typename Value_  = double, typename Index_  = int, typename ColumnIndex_  = std::uint16_t&gt; </td></tr>
<tr class="memitem:a1cd8b6c524c08a2672f01fa188086509"><td class="memTemplItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a>&lt; Value_, Index_ &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a1cd8b6c524c08a2672f01fa188086509">read_layered_sparse_from_matrix_market_some_file</a> (const char *filepath, const <a class="el" href="structtatami__layered_1_1ReadLayeredSparseFromMatrixMarketOptions.html">ReadLayeredSparseFromMatrixMarketOptions</a> &amp;options)</td></tr>
<tr class="separator:a1cd8b6c524c08a2672f01fa188086509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b7a376824c0e0159f3c12ea24b49210" id="r_a3b7a376824c0e0159f3c12ea24b49210"><td class="memTemplParams" colspan="2">template&lt;typename Value_  = double, typename Index_  = int, typename ColumnIndex_  = std::uint16_t&gt; </td></tr>
<tr class="memitem:a3b7a376824c0e0159f3c12ea24b49210"><td class="memTemplItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a>&lt; Value_, Index_ &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a3b7a376824c0e0159f3c12ea24b49210">read_layered_sparse_from_matrix_market_gzip_file</a> (const char *filepath, const <a class="el" href="structtatami__layered_1_1ReadLayeredSparseFromMatrixMarketOptions.html">ReadLayeredSparseFromMatrixMarketOptions</a> &amp;options)</td></tr>
<tr class="separator:a3b7a376824c0e0159f3c12ea24b49210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5514376d8fe31e185285ddaadd763081" id="r_a5514376d8fe31e185285ddaadd763081"><td class="memTemplParams" colspan="2">template&lt;typename Value_  = double, typename Index_  = int, typename ColumnIndex_  = std::uint16_t&gt; </td></tr>
<tr class="memitem:a5514376d8fe31e185285ddaadd763081"><td class="memTemplItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a>&lt; Value_, Index_ &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a5514376d8fe31e185285ddaadd763081">read_layered_sparse_from_matrix_market_text_buffer</a> (const unsigned char *contents, std::size_t length, const <a class="el" href="structtatami__layered_1_1ReadLayeredSparseFromMatrixMarketOptions.html">ReadLayeredSparseFromMatrixMarketOptions</a> &amp;options)</td></tr>
<tr class="separator:a5514376d8fe31e185285ddaadd763081"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a135938c24f4fe88a7b3590ffeed4c2c8" id="r_a135938c24f4fe88a7b3590ffeed4c2c8"><td class="memTemplParams" colspan="2">template&lt;typename Value_  = double, typename Index_  = int, typename ColumnIndex_  = std::uint16_t&gt; </td></tr>
<tr class="memitem:a135938c24f4fe88a7b3590ffeed4c2c8"><td class="memTemplItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a>&lt; Value_, Index_ &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a135938c24f4fe88a7b3590ffeed4c2c8">read_layered_sparse_from_matrix_market_some_buffer</a> (const unsigned char *contents, std::size_t length, const <a class="el" href="structtatami__layered_1_1ReadLayeredSparseFromMatrixMarketOptions.html">ReadLayeredSparseFromMatrixMarketOptions</a> &amp;options)</td></tr>
<tr class="separator:a135938c24f4fe88a7b3590ffeed4c2c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e9ed17125a431ef82be62b389346126" id="r_a8e9ed17125a431ef82be62b389346126"><td class="memTemplParams" colspan="2">template&lt;typename Value_  = double, typename Index_  = int, typename ColumnIndex_  = std::uint16_t&gt; </td></tr>
<tr class="memitem:a8e9ed17125a431ef82be62b389346126"><td class="memTemplItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a>&lt; Value_, Index_ &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a8e9ed17125a431ef82be62b389346126">read_layered_sparse_from_matrix_market_zlib_buffer</a> (const unsigned char *contents, std::size_t length, const <a class="el" href="structtatami__layered_1_1ReadLayeredSparseFromMatrixMarketOptions.html">ReadLayeredSparseFromMatrixMarketOptions</a> &amp;options)</td></tr>
<tr class="separator:a8e9ed17125a431ef82be62b389346126"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Create layered sparse matrices for <b>tatami</b>. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ae6f881696ce1e2fa7b9e2aeb3e38678b" name="ae6f881696ce1e2fa7b9e2aeb3e38678b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6f881696ce1e2fa7b9e2aeb3e38678b">&#9670;&#160;</a></span>convert_to_layered_sparse()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueOut_  = double, typename IndexOut_  = int, typename ColumnIndex_  = std::uint16_t, typename ValueIn_ , typename IndexIn_ &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a>&lt; ValueOut_, IndexOut_ &gt; &gt; tatami_layered::convert_to_layered_sparse </td>
          <td>(</td>
          <td class="paramtype">const <a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a>&lt; ValueIn_, IndexIn_ &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>mat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtatami__layered_1_1ConvertToLayeredSparseOptions.html">ConvertToLayeredSparseOptions</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>options</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mat</td><td>A <code><a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a></code> object containing non-negative integers. </td></tr>
    <tr><td class="paramname">options</td><td>Further options.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code><a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a></code> object containing a layered sparse matrix.</dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">ValueOut_</td><td>Type of data value for the output <code><a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a></code> interface. </td></tr>
    <tr><td class="paramname">IndexOut_</td><td>Integer type for the row/column indices of the output. </td></tr>
    <tr><td class="paramname">ColumnIndex_</td><td>Integer type for the stored column indices. </td></tr>
    <tr><td class="paramname">ValueIn_</td><td>Type of data value for the input. </td></tr>
    <tr><td class="paramname">IndexIn_</td><td>Integer type for the row/column indices of the input.</td></tr>
  </table>
  </dd>
</dl>
<p>This function converts an existing sparse integer matrix into a layered sparse matrix. The aim is to reduce memory usage by storing each gene's counts in the smallest unsigned integer type that can hold them. We improve the chances of being able to use small types by splitting the matrix columns into contiguous chunks according to <code>options.chunk_size</code>. This ensures that a few large values in a particular row only cause promotion to a larger integer type for the chunks in which they occur.</p>
<p>Setting <code>ColumnIndex_</code> to the smallest type that can hold <code>options.chunk_size - 1</code> can be used to further reduce memory usage. If <code>ColumnIndex_</code> is not able to hold <code>options.chunk_size - 1</code>, the chunk size is automatically set to the largest value that can be represented by <code>ColumnIndex_</code> plus 1. For example, if <code>ColumnIndex_</code> was set to an unsigned 8-bit integer, <code>chunk_size</code> would be automatically reduced to 256. </p>

</div>
</div>
<a id="a99e2feeee42e4ab42b8f7db3e0144419" name="a99e2feeee42e4ab42b8f7db3e0144419"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99e2feeee42e4ab42b8f7db3e0144419">&#9670;&#160;</a></span>read_layered_sparse_from_matrix_market_text_file()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Value_  = double, typename Index_  = int, typename ColumnIndex_  = std::uint16_t&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a>&lt; Value_, Index_ &gt; &gt; tatami_layered::read_layered_sparse_from_matrix_market_text_file </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>filepath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtatami__layered_1_1ReadLayeredSparseFromMatrixMarketOptions.html">ReadLayeredSparseFromMatrixMarketOptions</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>options</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filepath</td><td>Path to an uncompressed Matrix Market text file. </td></tr>
    <tr><td class="paramname">options</td><td>Further options.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code><a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a></code> object containing a layered sparse matrix.</dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Value_</td><td>Type of data value for the output <code><a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a></code> interface. </td></tr>
    <tr><td class="paramname">Index_</td><td>Integer type for the row/column indices of the output. </td></tr>
    <tr><td class="paramname">ColumnIndex_</td><td>Integer type for the stored column indices.</td></tr>
  </table>
  </dd>
</dl>
<p>This function loads a layered sparse integer matrix from a Matrix Market file. The aim is to reduce memory usage by storing each gene's counts in the smallest unsigned integer type that can hold them. See <code><a class="el" href="#ae6f881696ce1e2fa7b9e2aeb3e38678b">convert_to_layered_sparse()</a></code> for more details. </p>

</div>
</div>
<a id="a1cd8b6c524c08a2672f01fa188086509" name="a1cd8b6c524c08a2672f01fa188086509"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cd8b6c524c08a2672f01fa188086509">&#9670;&#160;</a></span>read_layered_sparse_from_matrix_market_some_file()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Value_  = double, typename Index_  = int, typename ColumnIndex_  = std::uint16_t&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a>&lt; Value_, Index_ &gt; &gt; tatami_layered::read_layered_sparse_from_matrix_market_some_file </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>filepath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtatami__layered_1_1ReadLayeredSparseFromMatrixMarketOptions.html">ReadLayeredSparseFromMatrixMarketOptions</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>options</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filepath</td><td>Path to a (possibly Gzip-compressed) Matrix Market file. </td></tr>
    <tr><td class="paramname">chunk_size</td><td>Chunk size to use for partitioning columns. </td></tr>
    <tr><td class="paramname">buffer_size</td><td>Size of the buffer (in bytes) to use when reading from file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code><a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a></code> object containing a layered sparse matrix.</dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Value_</td><td>Type of data value for the output <code><a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a></code> interface. </td></tr>
    <tr><td class="paramname">Index_</td><td>Integer type for the row/column indices of the output. </td></tr>
    <tr><td class="paramname">ColumnIndex_</td><td>Integer type for the stored column indices.</td></tr>
  </table>
  </dd>
</dl>
<p>This function loads a layered sparse integer matrix from a Matrix Market file. The aim is to reduce memory usage by storing each gene's counts in the smallest unsigned integer type that can hold them. See <code><a class="el" href="#ae6f881696ce1e2fa7b9e2aeb3e38678b">convert_to_layered_sparse()</a></code> for more details. </p>

</div>
</div>
<a id="a3b7a376824c0e0159f3c12ea24b49210" name="a3b7a376824c0e0159f3c12ea24b49210"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b7a376824c0e0159f3c12ea24b49210">&#9670;&#160;</a></span>read_layered_sparse_from_matrix_market_gzip_file()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Value_  = double, typename Index_  = int, typename ColumnIndex_  = std::uint16_t&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a>&lt; Value_, Index_ &gt; &gt; tatami_layered::read_layered_sparse_from_matrix_market_gzip_file </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>filepath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtatami__layered_1_1ReadLayeredSparseFromMatrixMarketOptions.html">ReadLayeredSparseFromMatrixMarketOptions</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>options</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filepath</td><td>Path to a Gzip-compressed Matrix Market file. </td></tr>
    <tr><td class="paramname">chunk_size</td><td>Chunk size to use for partitioning columns. </td></tr>
    <tr><td class="paramname">buffer_size</td><td>Size of the buffer (in bytes) to use when reading from file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code><a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a></code> object containing a layered sparse matrix.</dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Value_</td><td>Type of data value for the output <code><a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a></code> interface. </td></tr>
    <tr><td class="paramname">Index_</td><td>Integer type for the row/column indices of the output. </td></tr>
    <tr><td class="paramname">ColumnIndex_</td><td>Integer type for the stored column indices.</td></tr>
  </table>
  </dd>
</dl>
<p>This function loads a layered sparse integer matrix from a Matrix Market file. The aim is to reduce memory usage by storing each gene's counts in the smallest unsigned integer type that can hold them. See <code><a class="el" href="#ae6f881696ce1e2fa7b9e2aeb3e38678b">convert_to_layered_sparse()</a></code> for more details. </p>

</div>
</div>
<a id="a5514376d8fe31e185285ddaadd763081" name="a5514376d8fe31e185285ddaadd763081"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5514376d8fe31e185285ddaadd763081">&#9670;&#160;</a></span>read_layered_sparse_from_matrix_market_text_buffer()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Value_  = double, typename Index_  = int, typename ColumnIndex_  = std::uint16_t&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a>&lt; Value_, Index_ &gt; &gt; tatami_layered::read_layered_sparse_from_matrix_market_text_buffer </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *</td>          <td class="paramname"><span class="paramname"><em>contents</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t</td>          <td class="paramname"><span class="paramname"><em>length</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtatami__layered_1_1ReadLayeredSparseFromMatrixMarketOptions.html">ReadLayeredSparseFromMatrixMarketOptions</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>options</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">contents</td><td>Array containing the contents of an uncompressed Matrix Market text file. </td></tr>
    <tr><td class="paramname">length</td><td>Length of the array. </td></tr>
    <tr><td class="paramname">chunk_size</td><td>Chunk size to use for partitioning columns.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code><a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a></code> object containing a layered sparse matrix.</dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Value_</td><td>Type of data value for the output <code><a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a></code> interface. </td></tr>
    <tr><td class="paramname">Index_</td><td>Integer type for the row/column indices of the output. </td></tr>
    <tr><td class="paramname">ColumnIndex_</td><td>Integer type for the stored column indices.</td></tr>
  </table>
  </dd>
</dl>
<p>This function loads a layered sparse integer matrix from a buffer with the contents of a Matrix Market file. The aim is to reduce memory usage by storing each gene's counts in the smallest unsigned integer type that can hold them. See <code><a class="el" href="#ae6f881696ce1e2fa7b9e2aeb3e38678b">convert_to_layered_sparse()</a></code> for more details. </p>

</div>
</div>
<a id="a135938c24f4fe88a7b3590ffeed4c2c8" name="a135938c24f4fe88a7b3590ffeed4c2c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a135938c24f4fe88a7b3590ffeed4c2c8">&#9670;&#160;</a></span>read_layered_sparse_from_matrix_market_some_buffer()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Value_  = double, typename Index_  = int, typename ColumnIndex_  = std::uint16_t&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a>&lt; Value_, Index_ &gt; &gt; tatami_layered::read_layered_sparse_from_matrix_market_some_buffer </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *</td>          <td class="paramname"><span class="paramname"><em>contents</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t</td>          <td class="paramname"><span class="paramname"><em>length</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtatami__layered_1_1ReadLayeredSparseFromMatrixMarketOptions.html">ReadLayeredSparseFromMatrixMarketOptions</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>options</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">contents</td><td>Array containing the contents of a (possibly Gzip/Zlib-compressed) Matrix Market file. </td></tr>
    <tr><td class="paramname">length</td><td>Length of the array. </td></tr>
    <tr><td class="paramname">chunk_size</td><td>Chunk size to use for partitioning columns. </td></tr>
    <tr><td class="paramname">buffer_size</td><td>Size of the buffer to use for decompression, in bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code><a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a></code> object containing a layered sparse matrix.</dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Value_</td><td>Type of data value for the output <code><a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a></code> interface. </td></tr>
    <tr><td class="paramname">Index_</td><td>Integer type for the row/column indices of the output. </td></tr>
    <tr><td class="paramname">ColumnIndex_</td><td>Integer type for the stored column indices.</td></tr>
  </table>
  </dd>
</dl>
<p>This function loads a layered sparse integer matrix from a buffer with the contents of a Matrix Market file. The aim is to reduce memory usage by storing each gene's counts in the smallest unsigned integer type that can hold them. See <code><a class="el" href="#ae6f881696ce1e2fa7b9e2aeb3e38678b">convert_to_layered_sparse()</a></code> for more details. </p>

</div>
</div>
<a id="a8e9ed17125a431ef82be62b389346126" name="a8e9ed17125a431ef82be62b389346126"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e9ed17125a431ef82be62b389346126">&#9670;&#160;</a></span>read_layered_sparse_from_matrix_market_zlib_buffer()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Value_  = double, typename Index_  = int, typename ColumnIndex_  = std::uint16_t&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a>&lt; Value_, Index_ &gt; &gt; tatami_layered::read_layered_sparse_from_matrix_market_zlib_buffer </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *</td>          <td class="paramname"><span class="paramname"><em>contents</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t</td>          <td class="paramname"><span class="paramname"><em>length</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtatami__layered_1_1ReadLayeredSparseFromMatrixMarketOptions.html">ReadLayeredSparseFromMatrixMarketOptions</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>options</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">contents</td><td>Array containing the contents of a Gzip/Zlib-compressed Matrix Market file. </td></tr>
    <tr><td class="paramname">length</td><td>Length of the array. </td></tr>
    <tr><td class="paramname">chunk_size</td><td>Chunk size to use for partitioning columns. </td></tr>
    <tr><td class="paramname">buffer_size</td><td>Size of the buffer to use for decompression, in bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code><a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a></code> object containing a layered sparse matrix.</dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Value_</td><td>Type of data value for the output <code><a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a></code> interface. </td></tr>
    <tr><td class="paramname">Index_</td><td>Integer type for the row/column indices of the output. </td></tr>
    <tr><td class="paramname">ColumnIndex_</td><td>Integer type for the stored column indices.</td></tr>
  </table>
  </dd>
</dl>
<p>This function loads a layered sparse integer matrix from a buffer with the contents of a Matrix Market file. The aim is to reduce memory usage by storing each gene's counts in the smallest unsigned integer type that can hold them. See <code><a class="el" href="#ae6f881696ce1e2fa7b9e2aeb3e38678b">convert_to_layered_sparse()</a></code> for more details. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
